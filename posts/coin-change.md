Coin Change
===========

Aug 10, 2020 ¬∑ 3 min read

–î–∞–Ω –Ω–∞–±–æ—Ä —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–Ω–µ—Ç (–∏–ª–∏ –∫—É–ø—é—Ä) –∏ —Å—É–º–º–∞, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å. –ù–∞–π—Ç–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—É–º–º—ã. –ï—Å–ª–∏ —Å—É–º–º—É —Å–æ–±—Ä–∞—Ç—å –Ω–µ —É–¥–∞—ë—Ç—Å—è –≤–æ–≤—Å–µ, —Ç–æ –≤–µ—Ä–Ω—É—Ç—å `-1`. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ.

–ü—Ä–∏–º–µ—Ä 1:

    Input: coins = [1, 2, 5], amount = 11
    Output: 3
    Explanation: 11 = 5 + 5 + 1
    

–ü—Ä–∏–º–µ—Ä 2:

    Input: coins = [2], amount = 3
    Output: -1
    

[–ó–∞–¥–∞—á–∞ –Ω–∞ LeetCode](https://leetcode.com/problems/coin-change/).

–†–µ—à–µ–Ω–∏–µ¬†[#](#—Ä–µ—à–µ–Ω–∏–µ)
---------------------

–ï—Å–ª–∏ –ø—Ä–æ—Å—è—Ç –Ω–∞–π—Ç–∏ –º–∏–Ω–∏–º—É–º –∏–ª–∏ –º–∞–∫—Å–∏–º—É–º —Å—Ä–µ–¥–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –ø–µ—Ä–≤–æ–µ, —á—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –≥–æ–ª–æ–≤—É ‚Äî **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä**, —Ç.–µ. –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∞ (–∏–ª–∏ –¥–µ—Ä–µ–≤–∞, –∫–∞–∫ —á–∞—Å—Ç–Ω—ã–π —Å–ª—É—á–∞–π) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å **–ø–æ–∏—Å–∫ –≤ –≥–ª—É–±–∏–Ω—É** (DFS).

–ï—Å–ª–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ä–µ–≤–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ [–∑–∞–¥–∞—á–µ –ø—Ä–æ –∫–∞–º–Ω–∏](/posts/stone-game.md), —Ç–æ —Å—Ç–∞–Ω—É—Ç –≤–∏–¥–Ω—ã **–ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**, —Ç.–∫. —É–∑–ª—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (–∏ –ø–æ–¥–¥–µ—Ä–µ–≤—å—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –¥–µ—Ä–µ–≤–∞). –≠—Ç–æ –≤–µ—Ä–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è**. –ï—Å–ª–∏ –ø–∏—Å–∞—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –Ω—É–∂–Ω–æ –≤–∫—Ä—É—á–∏–≤–∞—Ç—å **–∫—ç—à**, —Ç–æ —á—Ç–æ –Ω–∞–∑—ã–≤–∞—é—Ç ‚Äútop-down approach‚Äù.

–í–æ–æ–±—â–µ, —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ—à–µ–Ω–∏—è: —Å–ø–µ—Ä–≤–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ–∏—Å–∫ –≤ –≥–ª—É–±–∏–Ω—É, –∞ –ø–æ—Å–ª–µ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å ‚Äî –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —è –Ω–∞–ø–∏—à—É ‚Äúbottom-up approach‚Äù, —Ç.–µ. –∫–æ–≥–¥–∞ –∑–Ω–∞—è —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è `n` –º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ä–µ—à–µ–Ω–∏—é –¥–ª—è `n + 1`, –Ω–∞—á–∏–Ω–∞—è –≤—Å—ë —Å –±–∞–∑–æ–≤–æ–≥–æ —Å–ª—É—á–∞—è.

–í –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–±—Ä–∞—Ç—å ¬´—ç—Ç–æ —Å–∞–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ¬ª, –æ–±—ã—á–Ω–æ ‚Äî —ç—Ç–æ —Ä–æ–≤–Ω–æ —Ç–æ, —á—Ç–æ –∏ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –≤ –∑–∞–¥–∞—á–µ, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ (—Ç–æ–≥–¥–∞ –≤—Å—ë —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ).

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ `n` –±—É–¥–µ–º —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å–µ–±—è ¬´–∫–∞–∫–æ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å —Å—É–º–º—É `n`?¬ª. –î–æ–ø—É—Å—Ç–∏–º –º—ã –∑–Ω–∞–µ–º –æ—Ç–≤–µ—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ `n`, –∫–∞–∫–æ–π –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –∫ `n + 1`?

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä –∏–∑ —É—Å–ª–æ–≤–∏—è.

![](/images/coin-change--example.jpg)

–ú—ã –∑–Ω–∞–µ–º –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Å—É–º–º—É¬ª –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π `n`. –ù–∞–¥–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–Ω—É –º–æ–Ω–µ—Ç—É **–∏–∑ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** –∏ –≤—ã–±—Ä–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.

–í–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ –≤—ã—à–µ:

*   –¥–æ–±–∞–≤–∏—Ç—å `1` –∫ `4`, –ø–æ–ª—É—á–∏–º –≤–∞—Ä–∏–∞–Ω—Ç `2 + 2 + 1` ‚Äî _3 –º–æ–Ω–µ—Ç—ã_;
*   –¥–æ–±–∞–≤–∏—Ç—å `2` –∫ `3`, –ø–æ–ª—É—á–∏–º –≤–∞—Ä–∏–∞–Ω—Ç `2 + 1 + 2` ‚Äî _3 –º–æ–Ω–µ—Ç—ã_;
*   –¥–æ–±–∏–∞–≤—Ç—å `5` –∫ `0`, –ø–æ–ª—É—á–∏–º –≤–∞—Ä–∏–∞–Ω—Ç `5` ‚Äî _1 –º–æ–Ω–µ—Ç–∞_.

–í –∏—Ç–æ–≥–µ, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç ‚Üí –æ–¥–Ω–∞, –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç. –ï–≥–æ –∏ –∑–∞–ø–∏—à–µ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏–º —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á—É –¥–∞–ª—å—à–µ, –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥—ë–º –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ —É—Å–ª–æ–≤–∏–∏ `amount`.

    /**
     * @param {number[]} coins
     * @param {number} amount
     * @return {number}
     */
    var coinChange = function(coins, amount) {
      // –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ ¬´–æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å –∑–∞–¥–∞—á–∏¬ª,
      // –¥–ª–∏–Ω–∞ –¥–æ amount –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ,
      // –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî ¬´—É—Å–ª–æ–≤–Ω–∞—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å¬ª,
      // —Ç.–µ. –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç,
      // —á—Ç–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞ 1 –±–æ–ª—å—à–µ –Ω—É–∂–Ω–æ–π —Å—É–º–º—ã
      const dp = new Array(amount + 1).fill(amount + 1);
    
      // –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π:
      // —Å–∫–æ–ª—å–∫–æ –±—ã –Ω–∏ –±—ã–ª–æ —Ä–∞–∑–Ω—ã—Ö –º–æ–Ω–µ—Ç,
      // –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–æ–≤–Ω–æ –Ω–æ–ª—å —à—Ç—É–∫
      // —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å —Å—É–º–º—É –Ω–æ–ª—å
      dp[0] = 0;
    
      // –Ω–∞—á–∏–Ω–∞–µ–º —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á—É
      // –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–æ–¥–Ω–∏–º–∞—è—Å—å –Ω–∞–≤–µ—Ä—Ö,
      // –¥–æ –Ω—É–∂–Ω–æ–π —Å—É–º–º—ã –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ
      for (let i = 1; i <= amount; i++) {
        // –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–Ω–µ—Ç—ã
        for (let c of coins) {
          // –µ—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
          // –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
          // —É–∫–∞–∑–∞–Ω–Ω—É—é –º–æ–Ω–µ—Ç—É
          if (i - c >= 0) {
            // –≤—ã–±–∏—Ä–∞–µ–º –º–∏–Ω–∏–º—É–º —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
            dp[i] = Math.min(dp[i], dp[i - c] + 1);
          }
        }
      }
      // –º–æ–∂–µ—Ç —Ç–∞–∫ –ø–æ–ª—É—á–∏—Ç—å—Å—è, —á—Ç–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç
      // –Ω—É–∂–Ω—É—é —Å—É–º–º—É —Å–æ–±—Ä–∞—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ,
      // –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–∫–∞–∂–µ—Ç—Å—è
      // –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º ‚Äî —Ç–æ–≥–¥–∞ –Ω–∞–¥–æ –≤–µ—Ä–Ω—É—Ç—å -1, –∫–∞–∫
      // –ø—Ä–æ—Å–∏–ª–∏ –ø–æ —É—Å–ª–æ–≤–∏—é
      return dp[amount] > amount ? -1 : dp[amount];
    };
    

![](/images/coin-change--result.jpg)

–û—Ç–ª–∏—á–Ω–æ–µ [–≤–∏–¥–µ–æ –Ω–∞ YouTube](https://www.youtube.com/watch?v=jgiZlGzXMBw) —Å —Ä–∞–∑–±–æ—Ä–æ–º –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏.

PS. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.