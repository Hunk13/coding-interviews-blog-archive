Container With Most Water
=========================

Oct 26, 2020 ¬∑ 3 min read

–ù–∞ –≤—Ö–æ–¥ –¥–∞—ë—Ç—Å—è `n` —á–∏—Å–µ–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö —Å–æ–±–æ–π –≤—ã—Å–æ—Ç—ã —Å—Ç–æ–ª–±–∏–∫–æ–≤, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ:

![](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/07/17/question_11.jpg)

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã –º–æ–∂–µ–º –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å—ë –≤–æ–¥–æ–π. –í –∫–∞–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –≤–æ–¥—ã –±–æ–ª—å—à–µ?

[–ó–∞–¥–∞—á–∞ –Ω–∞ LeetCode](https://leetcode.com/problems/container-with-most-water/).

–†–µ—à–µ–Ω–∏–µ¬†[#](#—Ä–µ—à–µ–Ω–∏–µ)
---------------------

–ü–æ —Å—É—Ç–∏, –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–ª–æ—â–∞–¥—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞. –û–ø—Ä–µ–¥–µ–ª–∏–º—Å—è —Å–æ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏:

![](/images/container-with-most-water--square.jpg)

–í—ã—Å–æ—Ç–∞ –Ω–∞–∏–º–µ–Ω—å—à–µ–≥–æ —Å—Ç–æ–ª–±–∏–∫–∞ –æ–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ (–≤–æ–¥–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–ª–∏–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫—Ä–∞–π), –∞ –¥—Ä—É–≥–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ ‚Äî —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç–æ–ª–±–∏–∫–∞–º–∏.

–ö–∞–∑–∞–ª–æ—Å—å –±—ã, –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –¥–≤–∞ —Å–∞–º—ã—Ö –≤—ã—Å–æ–∫–∏—Ö —Å—Ç–æ–ª–±–∏–∫–∞, —ç—Ç–æ –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É. –û–¥–Ω–∞–∫–æ, –æ–Ω–∏ –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É. –¢–∞–∫ —á—Ç–æ –≤—ã–≥–æ–¥–Ω–µ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∑—è—Ç—å —Å—Ç–æ–ª–±–∏–∫–∏ –ø–æ–º–µ–Ω—å—à–µ, –Ω–æ –∑–∞—Ç–æ –ø–æ–¥–∞–ª—å—à–µ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

–õ—É—á—à–µ –Ω–∞–ø–∏—Å–∞—Ç—å –±—Ä—É—Ç—Ñ–æ—Ä—Å, —á–µ–º –Ω–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∏—á–µ–≥–æ, –ø–æ—ç—Ç–æ–º—É —Ç–∞–∫ –∏ –ø–æ—Å—Ç—É–ø–∏–º. –í—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–±—Ä–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞ –∫–≤–∞–¥—Ä–∞—Ç –∏ –Ω–∞–π—Ç–∏ –º–∞–∫—Å–∏–º—É–º.

```js
/**
 * @param {number[]} height
 * @return {number}
 */
var maxArea = function(height) {
  let result = 0;

  for (let i = 0; i < height.length; i++) {
    for (let j = i + 1; j < height.length; j++) {
      result = Math.max(result,
        Math.min(height[i], height[j]) * (j - i)
      );
    }
  }
  return result;
};
```
    

![](/images/container-with-most-water--n2.jpg)

–¢–∞–∫–æ–π —Å–µ–±–µ —Ä–∞–Ω—Ç–∞–π–º. –ú–æ–∂–Ω–æ –ª—É—á—à–µ?

> –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç ¬´–º–æ–∂–Ω–æ –ª—É—á—à–µ¬ª ‚Äî –æ—Ç–≤–µ—Ç –≤—Å–µ–≥–¥–∞ –¥–∞ :-)

–ü–æ–ø—Ä–æ–±—É–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è –ª–∏—à–Ω—è—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏. –°–æ–±–µ—Ä—ë–º –≤—Å–µ –ø–ª–æ—â–∞–¥–∏ –≤ –º–∞—Å—Å–∏–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–µ–º –∏ —Ä–∞—Å–ø–µ—á–∞—Ç–∞–µ–º.

![](/images/container-with-most-water--sort.jpg)

–û—Ç–∫—É–¥–∞ —Å—Ç–æ–ª—å–∫–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–Ω–∞—á–µ–Ω–∏–π? –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –ø–ª–æ—â–∞–¥—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ _–º–µ–Ω—å—à–µ–π –≤—ã—Å–æ—Ç–µ_.

![](/images/container-with-most-water--ex.jpg)

–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ `i` –∏ `j` –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ, –ø–æ—ç—Ç–æ–º—É –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫–æ–π –≤—ã—Å–æ—Ç—ã —Å—Ç–æ–ª–±–∏–∫–∏ `i` –∏ `j` –µ—Å–ª–∏ –æ–Ω–∏ –≤—ã—à–µ. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –µ—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç –Ω–∏–∂–µ, —Ç–æ –º—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ –ø–æ–ª—É—á–∏–º –ø–ª–æ—â–∞–¥—å –±–æ–ª—å—à–µ, –ø–ª–æ—â–∞–¥—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è.

–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç –≤ –ø–µ—Ä–µ—Ö–æ–¥–µ –∫ –ª–∏–Ω–µ–π–Ω–æ–º—É —Ä–µ—à–µ–Ω–∏—é.

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø–µ—Ä–µ–±–æ—Ä –∏–Ω–∞—á–µ. –ë—É–¥–µ–º –Ω–∞—á–∏–Ω–∞—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ —Å —Å–æ—Å–µ–¥–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∞ –Ω–∞–ø—Ä–æ—Ç–∏–≤ ‚Äî —Å –∫—Ä–∞—ë–≤, —Ç.–µ. —Ñ–∏–∫—Å–∏—Ä—É–µ–º –¥–≤–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ —Å—Ç–æ–ª–±–∏–∫–∞. –ó–∞—á–µ–º? –ß—Ç–æ–±—ã –æ–¥–Ω–∞ –∏–∑ —Å—Ç–æ—Ä–æ–Ω –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —É–º–µ–Ω—å—à–∞–ª–∞—Å—å –∏ –Ω–µ –≤–ª–∏—è–ª–∞ –Ω–∞ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è –æ —Ç–æ–º –∫—É–¥–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.

![](/images/container-with-most-water--n.jpg)

–î–∞–ª–µ–µ, –º—ã –º–æ–∂–µ–º –¥–≤–∏–≥–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö —Å—Ç–æ–ª–±–∏–∫–æ–≤: –∫—Ä–∞—Å–Ω—ã–π –∏–ª–∏ —Å–∏–Ω–∏–π, –ø–µ—Ä–µ–±–∏—Ä–∞—è –≤—Å–µ –ø–ª–æ—â–∞–¥–∏. –û–¥–Ω–∞–∫–æ, —Ç.–∫. –≤—Ç–æ—Ä–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ _–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≤—ã—Å–æ—Ç–µ_, –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å—Å—è —Ç–∞–∫, —á—Ç–æ –º—ã –¥–≤–∏–≥–∞–ª–∏ –∫—Ä–∞—Å–Ω—ã–π —Å—Ç–æ–ª–±–∏–∫ –∏ –ø–æ–ª—É—á–∏–ª–∏ –≥–¥–µ-—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø–ª–æ—â–∞–¥—å.

–ï—Å–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ –≥–¥–µ-—Ç–æ —Å—Ç–æ–ª–±–∏–∫–∏ –±–æ–ª—å—à–µ ‚Äî —ç—Ç–æ –Ω–µ –≤–∞–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è —Å–∏–Ω–∏–π. –ï—Å–ª–∏ –≥–¥–µ-—Ç–æ –º–µ–Ω—å—à–µ —á–µ–º —Å–∏–Ω–∏–π, —Ç–µ–º –±–æ–ª–µ–µ ‚Äî –ø–ª–æ—â–∞–¥—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è (–ø–æ–º–Ω–∏–º, —á—Ç–æ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —É–±—ã–≤–∞–µ—Ç –∏ –Ω–µ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –ø–ª–æ—â–∞–¥—å).

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤–æ–æ–±—â–µ –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤—Å–µ—Ö —Å–æ –≤—Å–µ–º–∏. –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –º—ã —Ç–æ—á–Ω–æ –∑–Ω–∞–µ–º –≥–¥–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º—É–º –æ—Ç—Å–µ–∫–∞—è `n` —Å—Ä–∞–≤–Ω–µ–Ω–∏–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º `n^2` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –≤ `n`.

–í —ç—Ç–æ–º –∏ –µ—Å—Ç—å —Å—É—Ç—å ¬´–∂–∞–¥–∏–Ω–∫–∏¬ª: –Ω–∞ –∫–∞–∂–¥–æ–π —Ä–∞–∑–≤–∏–ª–∫–µ —Ç—ã —Ç–æ—á–Ω–æ –ø–æ–Ω–∏–º–∞–µ—à—å –∫–∞–∫–æ–π –ø—É—Ç—å –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É, –∞ –∫–∞–∫–æ–π —Ç–æ—á–Ω–æ –Ω–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç–º–µ—Ç–∞–µ—à—å –∫–∞–∫–æ–µ-—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ–¥–æ–º–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

```diff
/**
  * @param {number[]} height
  * @return {number}
  */
var maxArea = function(height) {
  let result = 0;
+  let i = 0;
+  let j = height.length - 1;

-  for (let i = 0; i < height.length; i++) {
-    for (let j = i + 1; j < height.length; j++) {
+  while (i < j) {
    result = Math.max(result,
      Math.min(height[i], height[j]) * (j - i)
    );
+    // –≤—Å–µ–≥–¥–∞ –¥–≤–∏–≥–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–µ–Ω—å—à–∏–π —Å—Ç–æ–ª–±–∏–∫,
+    // —Ç.–∫. –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞–µ–º, —á—Ç–æ, –¥–≤–∏–≥–∞—è —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–æ–ª—å—à–∏–π,
+    // –±–æ–ª—å—à–µ–π –ø–ª–æ—â–∞–¥–∏ —Ç–∞–º –Ω–µ –±—É–¥–µ—Ç
+    if (height[i] < height[j]) {
+      i++;
+    } else {
+      j--;
+    }
-   }
  }
  return result;
};
```
    

![](/images/container-with-most-water--n-result.jpg)

–¢–∞–∫ –Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ! –£—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ä—è–¥–æ–∫.

PS. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.