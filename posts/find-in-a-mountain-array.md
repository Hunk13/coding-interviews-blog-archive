# Find In a Mountain Array

–ï—Å—Ç—å –º–∞—Å—Å–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ —Ç–∞–∫, —á—Ç–æ –æ–¥–Ω–∞ –±—É–¥–µ—Ç —Å—Ç—Ä–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–π, –∞ –¥—Ä—É–≥–∞—è ‚Äî —Å—Ç—Ä–æ–≥–æ —É–±—ã–≤–∞—é—â–µ–π.

![](/images/peak-element‚Äîex.jpg)

* `arr[0] < arr[1] < ... < arr[i - 1] < arr[i]`
* `arr[i] > arr[i + 1] > ... > arr[arr.length - 1]`

–î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–µ –Ω–∞–ø—Ä—è–º—É—é, –∞ —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

* `MountainArray.get(k)` ‚Äî –≤–µ—Ä–Ω–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É `k`; 
* `MountainArray.length()` ‚Äî –≤–µ—Ä–Ω–µ—Ç –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞.

–ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å –∑–∞–¥–∞–Ω–Ω–æ–≥–æ `target` .

### –í–æ–ø—Ä–æ—Å—ã

–ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –≤–∞–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, —á—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è –∑–∞–¥–∞—á–∏.

1. **–£—Ç–æ—á–Ω–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**

  + > –ö–∞–∫–æ–≤–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –º–∞—Å—Å–∏–≤–µ? –ú–æ–≥—É—Ç –ª–∏ –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞?
    
    –í –æ—Ç—Ä–µ–∑–∫–µ `[0, 10^9]`

  + > –ú–æ–∂–µ—Ç –ª–∏ –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω?
    
    –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, target –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑. –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –Ω–∞–∏–º–µ–Ω—å—à–∏–π –∏–Ω–¥–µ–∫—Å.

  + > –ï—Å—Ç—å –ª–∏ –≥–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –≤ –º–∞—Å—Å–∏–≤ –Ω–µ–ø—É—Å—Ç–æ–π? –ö–∞–∫–∞—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞?
    
    –¢—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–∞.

  + > –ï—Å—Ç—å –ª–∏ –≥–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –≤ –º–∞—Å—Å–∏–≤–µ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –æ—Ç–≤–µ—Ç?
    
    –ù–µ—Ç. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Ç –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `-1` .

  + > –ö–∞–∫–æ–≤–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞?
     
    ~ `10^4`

  + > –í—Å–µ –ª–∏ —É—á–∞—Å—Ç–∫–∏ —Å—Ç—Ä–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Å—Ç–∞—é—Ç / —É–±—ã–≤–∞—é—Ç –∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω—ã —É—á–∞—Å—Ç–∫–∏ –ø–ª–∞—Ç–æ?

  –°—Ç—Ä–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—Ç –∏–ª–∏ —É–±—ã–≤–∞—é—Ç. –ü–ª–∞—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω—ã.

  + > –í–æ–∑–º–æ–∂–Ω—ã –ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–∏–∫–æ–≤ –∏–ª–∏ –ø–∏–∫ —Å—Ç—Ä–æ–≥–æ –æ–¥–∏–Ω?

  –°—Ç—Ä–æ–≥–æ –æ–¥–∏–Ω.

2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:**

  + > –ù–∞—Å–∫–æ–ª—å–∫–æ –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è `get`? –ü–æ–¥–æ–π–¥–µ—Ç –ª–∏ –ª–∏–Ω–µ–π–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (~10^4 –≤—ã–∑–æ–≤–æ–≤ `get`)?

  –û–ø–µ—Ä–∞—Ü–∏—è `get` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Ä–æ–≥–∞—è. –í –∏–¥–µ–∞–ª–µ, –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ 100 –≤—ã–∑–æ–≤–æ–≤ `get` .

  + > –ú–æ–∂–µ–º –ª–∏ –º—ã —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ `get` —Å—Ç–æ—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –ª—é–±–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞?

  –î–∞. –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–∞ `get` ‚Äî `O(1)` , —Ç–æ –µ—Å—Ç—å –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω–¥–µ–∫—Å–∞.

### –ü—Ä–∏–º–µ—Ä—ã

1. **–ü—Ä–∏–º–µ—Ä 1:**

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –º–∞—Å—Å–∏–≤ = [1, 2, 3, 4, 5, 3, 1], target = 3

–†–µ–∑—É–ª—å—Ç–∞—Ç: 2

–ß–∏—Å–ª–æ 3 –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–∞—Å—Å–∏–≤–µ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º 2 –∏ 5. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–≤–µ–Ω 2.

1. **–ü—Ä–∏–º–µ—Ä 2:**

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –º–∞—Å—Å–∏–≤ = [0, 1, 2, 4, 2, 1], target = 3

–†–µ–∑—É–ª—å—Ç–∞—Ç: -1

3 –Ω–µ—Ç –≤ –º–∞—Å—Å–∏–≤–µ, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º -1.

### –†–µ—à–µ–Ω–∏–µ

–ü—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ `get` –Ω–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞, –∫—Ä–æ–º–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.

–ë—ã–ª [—Ä–∞–∑–±–æ—Ä –∑–∞–¥–∞—á–∏ –ø–æ –ø–æ–∏—Å–∫—É –ø–∏–∫–∞](./peak-index-in-a-mountain-array.md) —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –≤ –∫–æ–¥–µ, –µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è –≤—Å–ø–æ–º–Ω–∏—Ç—å –∫–∞–∫ –ø–∏—Å–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫. –û–¥–Ω–∞–∫–æ, –≤ –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–µ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∞ –Ω–µ –ø–∏–∫.

–ë—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∫–∞–∫ –±—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—è —ç–ª–µ–º–µ–Ω—Ç –∑–∞–¥–∞—á–∏. –î–æ–ø—É—Å—Ç–∏–º –Ω–∞—à –º–∞—Å—Å–∏–≤ ‚Äî —Å—Ç—Ä–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç, —Ç–æ –µ—Å—Ç—å —ç—Ç–æ —á–∞—Å—Ç—å **–¥–æ** –ø–∏–∫–∞, –∞ —Å–∞–º –ø–∏–∫ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç. –ö–∞–∫ —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç?

![](/images/find-peak-in-a-mountain-array.png)

–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –º—ã –∑–Ω–∞–µ–º —á—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞. –ü–æ–¥–µ–ª–∏–ª–∏ –ø–æ–ø–æ–ª–∞–º –∏ —Å–ø—Ä–æ—Å–∏–ª–∏ ¬´—Å–µ—Ä–µ–¥–∏–Ω–∞ –±–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ `target` ¬ª? –ï—Å–ª–∏ –±–æ–ª—å—à–µ ‚Äî –Ω–∞–¥–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–∫–∞—Ç—å —Å–ª–µ–≤–∞, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Å–ø—Ä–∞–≤–∞.

–•–æ—Ä–æ—à–æ, –∞ –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–≥–æ —É–±—ã–≤–∞–µ—Ç, —Ç–æ –µ—Å—Ç—å —ç—Ç–æ —á–∞—Å—Ç—å **–ø–æ—Å–ª–µ** –ø–∏–∫–∞. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —Ç–∞–∫ –∂–µ –º–æ–∂–µ–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫, —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –µ—Å–ª–∏ —Å–µ—Ä–µ–¥–∏–Ω–∞ –±–æ–ª—å—à–µ `target` ‚Äî –Ω–∞–¥–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–∫–∞—Ç—å —Å–ø—Ä–∞–≤–∞, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Å–ª–µ–≤–∞.

–ù–∞–º –∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –ø–∏–∫ —Å—Ç—Ä–æ–≥–æ –æ–¥–∏–Ω. –ó–Ω–∞—á–∏—Ç, –Ω–∞–¥–æ –µ—Å–ª–∏ –µ–≥–æ –Ω–∞–π—Ç–∏, —Ç–æ –º—ã –ø–æ–¥–µ–ª–∏–º –º–∞—Å—Å–∏–≤ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏, –∫ –∫–∞–∂–¥–æ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ.

–ö–∞–∫ –Ω–∞–π—Ç–∏ –ø–∏–∫? –ï—â–µ –æ–¥–∏–Ω –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ üòä

–ò—Ç–∞–∫, –∞–ª–≥–æ—Ä–∏—Ç–º:

* –Ω–∞–π—Ç–∏ –ø–∏–∫ –±–∏–Ω–∞—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
* –ø–æ–∏—Å–∫–∞—Ç—å `target` —Å–ª–µ–≤–∞ –æ—Ç –ø–∏–∫–∞, –±–∏–Ω–∞—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
  + –µ—Å–ª–∏ `target` –Ω–∞–π–¥–µ–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –∏–Ω–¥–µ–∫—Å
  + –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω:
    - –ø–æ–∏—Å–∫–∞—Ç—å `target` —Å–ø—Ä–∞–≤–∞ –æ—Ç –ø–∏–∫–∞, –±–∏–Ω–∞—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
      - –µ—Å–ª–∏ `target` –Ω–∞–π–¥–µ–Ω ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –∏–Ω–¥–µ–∫—Å
      - –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –≤–æ–∑—Ä–∞—â–∞–µ–º `-1`

–°–º–æ–∂–µ–º –ª–∏ –º—ã —É–ª–æ–∂–∏—Ç—å—Å—è –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ `get` ?

–¢—Ä–∏ –±–∏–Ω–∞—Ä–Ω—ã—Ö –ø–æ–∏—Å–∫–∞, –≥–¥–µ –Ω—É–∂–Ω–æ –∑–≤–∞—Ç—å `get` –Ω–µ –±–æ–ª–µ–µ `log 10^4` –ø–ª—é—Å –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –ø–∏–∫–∞ –Ω—É–∂–Ω–æ –∑–≤–∞—Ç—å `get` –¥–≤–∞–∂–¥—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ (–¥–ª—è –¥–≤—É—Ö —Å–æ—Å–µ–¥–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤), —Ç–æ –µ—Å—Ç—å –Ω–µ –±–æ–ª–µ–µ `2 * log 10^4` . –í –∏—Ç–æ–≥–µ, `4 * log 10^4` (–≥–¥–µ lg —ç—Ç–æ –ª–æ–≥–∞—Ä–∏—Ñ–º –ø–æ –æ—Å–Ω–æ–≤–∞–Ω–∏—é 2) < 56. –û—Ç–ª–∏—á–Ω–æ!

–ó–∞–≤–µ—Ä—à–∞–µ–º, –∫–∞–∫ –æ–±—ã—á–Ω–æ, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –ø–æ —à–∞–≥–∞–º.

P. S. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.
