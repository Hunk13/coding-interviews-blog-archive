Word Ladder
===========

Jan 11, 2021 ¬∑ 3 min read

–î–∞–Ω—ã –¥–≤–∞ —Å–ª–æ–≤–∞: –Ω–∞—á–∞–ª—å–Ω–æ–µ –∏ –∫–æ–Ω–µ—á–Ω–æ–µ, –∞ —Ç–∞–∫–∂–µ —Å–ª–æ–≤–∞—Ä—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª–æ–≤. –í–µ—Ä–Ω—É—Ç—å _–¥–ª–∏–Ω—É –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏_ –º–µ–∂–¥—É –Ω–∞—á–∞–ª—å–Ω—ã–º –∏ –∫–æ–Ω–µ—á–Ω—ã–º —Å–ª–æ–≤–æ–º, –µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω —Å–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–µ—Ö–æ–¥:

*   –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ª—é–±–æ–π _—Ä–æ–≤–Ω–æ –æ–¥–∏–Ω_ —Å–∏–º–≤–æ–ª
*   —Å–ª–æ–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–∑ —Å–ª–æ–≤–∞—Ä—è

–ï—Å–ª–∏ —Ç–∞–∫–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ ‚Äî –≤–µ—Ä–Ω—É—Ç—å –Ω–æ–ª—å.

[–ó–∞–¥–∞—á–∞ –Ω–∞ LeetCode](https://leetcode.com/problems/word-ladder/).

–†–µ—à–µ–Ω–∏–µ¬†[#](#—Ä–µ—à–µ–Ω–∏–µ)
---------------------

–≠—Ç–∞ –∑–∞–¥–∞—á–∞, –ø–æ-–º–æ–µ–º—É, –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –Ω–∞ –≥—Ä–∞—Ñ—ã. –°–ª–æ–≤–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è + –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ ‚Äî –≤–µ—Ä—à–∏–Ω—ã, –∞ –æ–ø–∏—Å–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ ‚Äî —Ä—ë–±—Ä–∞.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä.

    –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ: "hit"
    –ö–æ–Ω–µ—á–Ω–æ–µ —Å–ª–æ–≤–æ: "cog"
    –°–ª–æ–≤–∞—Ä—å: ["hot","dot","dog","lot","log","cog"]
    

![](/images/word-ladder--ex.jpg)

–ö—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å (–æ–¥–∏–Ω –∏–∑) ‚Äúhit‚Äù -> ‚Äúhot‚Äù -> ‚Äúdot‚Äù -> ‚Äúdog‚Äù -> ‚Äúcog‚Äù, —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 —Å–ª–æ–≤.

–ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ, –∫–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤—ã–±—Ä–∞—Ç—å? –£–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å.

![](/images/word-ladder--graph.jpg)

–ù–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –≤–µ—Ä—à–∏–Ω–∞–º–∏ ‚Äî —ç—Ç–æ **–ø–æ–∏—Å–∫ –≤ —à–∏—Ä–∏–Ω—É** (BFS). –ü–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å [–∑–∞–¥–∞—á–µ–π –ø—Ä–æ –∞–ø–µ–ª—å—Å–∏–Ω—ã](/posts/rotting-oranges/), –∫–æ—Ç–æ—Ä—É—é —è —Ä–∞–∑–±–∏—Ä–∞–ª —Ä–∞–Ω–Ω–µ–µ.

–ü–æ—á–µ–º—É –ø–æ–∏—Å–∫ –≤ —à–∏—Ä–∏–Ω—É –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å?

–ú—ã —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –¥–µ—Ç–æ–∫ –∫–∞–∂–¥–æ–π –≤–µ—Ä—à–∏–Ω—ã –ø—Ä–µ–∂–¥–µ —á–µ–º –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ, –∏—Å–ø–æ–ª—å–∑—É—è –æ—á–µ—Ä–µ–¥—å. –ï—Å–ª–∏ –º—ã –Ω–∞—à–ª–∏ –Ω—É–∂–Ω—ã–π –Ω–∞–º —É–∑–µ–ª ‚Äî –±—ã—Å—Ç—Ä–µ–µ –¥–æ –Ω–µ–≥–æ –Ω–∏–∫–∞–∫ –Ω–µ –¥–æ–±—Ä–∞—Ç—å—Å—è, —Ä–∞–∑–≤–µ —á—Ç–æ –ø–µ—Ä–µ–ø—Ä—ã–≥–∏–≤–∞—è —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ-—Ç–æ –≤–µ—Ä—à–∏–Ω—ã, –Ω–æ —Ç–∞–∫ –Ω–µ–ª—å–∑—è.

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø—Ä–∏ –æ–±—Ö–æ–¥–µ –≤ —à–∏—Ä–∏–Ω—É ‚Äî —Å–ª–µ–¥–∏—Ç—å –∑–∞ —É–∂–µ –ø–æ—Å–µ—â–µ–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏, —á—Ç–æ–±—ã –Ω–µ –ø–æ–ø–∞—Å—Ç—å –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª. –û–±—ã—á–Ω–æ —ç—Ç–æ –¥–µ–ª–∞—é—Ç –ª–∏–±–æ —Å –ø–æ–º–æ—â—å—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ç–∞, –∫—É–¥–∞ —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç –ø–æ—Å–µ—â—ë–Ω–Ω—ã–µ —É–∑–ª—ã, –ª–∏–±–æ –ø—Ä–æ—Å—Ç–æ –∏—Ö —É–¥–∞–ª—è—é—Ç –∏–∑ –≥—Ä–∞—Ñ–∞ –ø–æ –º–µ—Ä–µ –æ–±—Ö–æ–¥–∞.

    /**
     * @param {string} beginWord
     * @param {string} endWord
     * @param {string[]} wordList
     * @return {number}
     */
    var ladderLength = function(beginWord, endWord, wordList) {
      const words = wordList.concat(beginWord);
      const graph = buildGraph(words);
    
      // –≤ –æ—á–µ—Ä–µ–¥–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ª–µ–∂–∏—Ç –≤–µ—Ä—à–∏–Ω–∞ —Å –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—á–∏–Ω–∞–µ–º –ø–æ–∏—Å–∫,
      // —Ç.–µ. –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ, –∞ —Ç–∞–∫–∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–π–¥—ë–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
      const q = [[beginWord, 1]];
    
      while (q.length > 0) {
        // —Å–Ω–∏–º–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª —Å –Ω–∞—á–∞–ª–∞ –æ—á–µ—Ä–µ–¥–∏,
        // –≤–∞–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ (—Ç.–µ. –∫–ª–∞—Å—Ç—å –≤ –∫–æ–Ω–µ—Ü, —Å–Ω–∏–º–∞—Ç—å —Å –Ω–∞—á–∞–ª–∞),
        // —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞ –º—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏ ‚Äî —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç BFS
        const [node, path] = q.shift();
    
        // –∫–∞–∫ —Ç–æ–ª—å–∫–æ –Ω–∞—à–ª–∏ –∫–æ–Ω–µ—á–Ω–æ–µ —Å–ª–æ–≤–æ,
        // –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ–∏—Å–∫
        if (node === endWord) {
          return path;
        }
        // –∑–∞–∫–∏–¥—ã–≤–∞–µ–º –≤—Å–µ—Ö –¥–µ—Ç–æ–∫ –≤ –∫–æ–Ω–µ—Ü –æ—á–µ—Ä–µ–¥–∏
        for (const child of graph[node]) {
          q.push([child, path + 1]);
        }
        // –∑–∞—Ç–∏—Ä–∞–µ–º —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ—Å–µ—â—ë–Ω–Ω—É—é –≤–µ—Ä—à–∏–Ω—É,
        // —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è
        graph[node] = [];
      }
      // –µ—Å–ª–∏ –æ–±–æ—à–ª–∏ –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã,
      // –Ω–æ —Ç–∞–∫ –∏ –Ω–µ –Ω–∞—à–ª–∏ –∫–æ–Ω–µ—á–Ω–æ–≥–æ —Å–ª–æ–≤–∞,
      // —Ç–æ –µ–≥–æ —Ç–∞–º –ø—Ä–æ—Å—Ç–æ –Ω–µ –±—ã–ª–æ
      return 0;
    };
    
    function buildGraph(words) {
      const result = {};
    
      // —á—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ –Ω—É–∂–Ω–æ –ø—Ä–æ–±–µ–∂–∞—Ç—å –ø–æ –≤—Å–µ–º —Å–ª–æ–≤–∞–º,
      // –∏ –Ω–∞–π—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –Ω–∏–º–∏ ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª
      for (let i = 0; i < words.length; i++) {
        result[words[i]] = [];
        for (let j = 0; j < words.length; j++) {
          if (isOneCharDiff(words[i], words[j])) {
            result[words[i]].push(words[j]);
          }
        }
      }
      return result;
    }
    
    function isOneCharDiff(s1, s2) {
      let changes = 0;
      for (let i = 0; i < s1.length; i++) {
        if (s1[i] !== s2[i]) {
          changes++;
        }
      }
      return changes === 1;
    }
    

![](/images/word-ladder--result.jpg)

–°–ª–µ–≥–∫–∞ –º–æ–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å—Å—è, –µ—Å–ª–∏ –≤ `isOneCharDiff` —Å–¥–µ–ª–∞—Ç—å —Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –∫–∞–∫ —Ç–æ–ª—å–∫–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –±–æ–ª—å—à–µ 1 –º–æ–∂–Ω–æ –¥–∞–ª—å—à–µ –Ω–µ —Å—á–∏—Ç–∞—Ç—å.

    function isOneCharDiff(s1, s2) {
    - let changes = 0;
    + let result = false;
      for (let i = 0; i < s1.length; i++) {
        if (s1[i] !== s2[i]) {
    -     changes++;
    +     if (result) {
    +       return false;
    +     }
    +     result = true;
        }
      }
    - return changes === 1;
    + return result;
    }
    

![](/images/word-ladder--result2.jpg)

PS. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.