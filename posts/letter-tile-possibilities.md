Letter Tile Possibilities
=========================

Jan 25, 2021 ¬∑ 4 min read

–ù–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤.

![](/images/letter-tiles-possibilities--ex.jpg)

–î–ª—è —Å—Ç—Ä–æ–∫–∏ `AAB` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å 8 —Ç–∞–∫–∏—Ö –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π: `"A", "B", "AA", "AB", "BA", "AAB", "ABA", "BAA"`.

**[–ó–∞–¥–∞—á–∞ –Ω–∞ LeetCode](https://leetcode.com/problems/letter-tile-possibilities/)**.

–†–µ—à–µ–Ω–∏–µ¬†[#](#—Ä–µ—à–µ–Ω–∏–µ)
---------------------

–†–µ—à–µ–Ω–∏–µ ¬´–≤ –ª–æ–±¬ª ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ —Ç–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏, —Å–ª–æ–∂–∏—Ç—å –≤ —Å–µ—Ç (—á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π) –∏ –≤–µ—Ä–Ω—É—Ç—å —Ä–∞–∑–º–µ—Ä —Å–µ—Ç–∞.

–ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏? –ù—É–∂–Ω–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤—Å—ë –¥–µ—Ä–µ–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (–ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π) ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –±–µ–∫—Ç—Ä–µ–∫–∏–Ω–≥. –° —É—Å–ª–æ–≤–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∏–º–≤–æ–ª –¥–≤–∞–∂–¥—ã.

–£—Å–ª–æ–≤–∏–µ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–∫—É—Ä—Å–∏–∏: –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ, —á–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤.

> –ï—â—ë [–∑–∞–¥–∞—á–∞ –Ω–∞ –±–µ–∫—Ç—Ä–µ–∫–∏–Ω–≥](/posts/n-queens.md) ‚Äî –ø—Ä–æ N –∫–æ—Ä–æ–ª–µ–≤ –Ω–∞ —à–∞—Ö–º–∞—Ç–Ω–æ–π –¥–æ—Å–∫–µ.

```js
/**
 * @param {string} tiles
 * @return {number}
 */
var numTilePossibilities = function(tiles) {
  // –∑–¥–µ—Å—å –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å
  // –∏–Ω–¥–µ–∫—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤,
  // —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å,
  // —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω–¥–µ–∫—Å –¥–≤–∞–∂–¥—ã
  const usedIndexes = new Set();
  // –∑–¥–µ—Å—å –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å
  // —Ç–µ–∫—É—â—É—é –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å,
  // –ø–æ —Å—É—Ç–∏ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ —Å—Ç–µ–∫–∞ ‚Äî
  // –±—É–¥–µ–º –∫–ª–∞—Å—Ç—å —Å—é–¥–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–π —Å–∏–º–≤–æ–ª
  // –ø—Ä–∏ –∑–∞—Ö–æ–¥–µ –≤ —Ä–µ–∫—É—Ä—Å–∏—é –∏
  // —Å–Ω–∏–º–∞—Ç—å –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ,
  // —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Å—Ç–µ–∫ –±—É–¥–µ—Ç
  // –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç—Ä–∞–∂–∞—Ç—å
  // —É–∑–ª—ã –≤ –¥–µ—Ä–µ–≤–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  const currSeq = [];
  // —Å—é–¥–∞ –±—É–¥–µ—Ç —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  const result = new Set();

  function dfs() {
    // —É—Å–ª–æ–≤–∏–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–∫—É—Ä—Å–∏–∏ ‚Äî
    // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
    if (currSeq.length === tiles.length) {
      return;
    }
    // –±–µ–∂–∏–º –ø–æ –≤—Å–µ–º —Å–∏–º–≤–æ–ª–∞–º
    for (let i = 0; i < tiles.length; i++) {
      // –µ—Å–ª–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å–∏–º–≤–æ–ª,
      // —Ç–æ –¥–≤–∞–∂–¥—ã –µ–≥–æ –±—Ä–∞—Ç—å –Ω–µ–ª—å–∑—è
      if (usedIndexes.has(i)) {
        continue;
      }
      // –∑–∞–∫–∏–¥—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å–∏–º–≤–æ–ª
      // –≤ –∫–æ–Ω–µ—Ü —Å—Ç–µ–∫–∞
      currSeq.push(tiles[i]);
      // –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –¥–æ–±–∞–≤–∏—Ç—å
      // –∏–Ω–¥–µ–∫—Å –≤ ¬´–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ¬ª
      usedIndexes.add(i);
      // —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º —Å—Ç–µ–∫ –≤ —Å—Ç—Ä–æ–∫—É
      // –∏ –∫–∏–¥–∞–µ–º –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π —Å–µ—Ç,
      // –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º –ø–æ–∑–∞–±–æ—Ç–∏—Ç—Å—è –æ —Ç–æ–º,
      // —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
      result.add(currSeq.join(""));
      // –∑–∞—Ö–æ–¥–∏–º –≤ —Ä–µ–∫—É—Ä—Å–∏—é, –∫–æ—Ç–æ—Ä–∞—è
      // —Å–æ–∑–¥–∞—Å—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ä—è–¥ —É–∑–ª–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ
      dfs();
      // –∫–æ–≥–¥–∞ –≤—ã—à–ª–∏ –∏–∑ —Ä–µ–∫—É—Ä—Å–∏–∏
      // –Ω–∞–¥–æ –Ω–µ –∑–∞–±—ã—Ç—å –ø–æ—á–∏—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–µ–π—Ç:
      // —Å–Ω—è—Ç—å —Å–∏–º–≤–æ–ª —Å–æ —Å—Ç–µ–∫–∞ –∏
      // —É–¥–∞–ª–∏—Ç—å —Å–∏–º–≤–æ–ª –∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö
      currSeq.pop();
      usedIndexes.delete(i);
    }
  }
  dfs();
  // –æ—Ç–≤–µ—Ç ‚Äî —Ä–∞–∑–º–µ—Ä —Å–µ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
  return result.size;
};
```
    

![](/images/letter-tiles-possibilities--tree.jpg)

–ü–æ–ª–µ–∑–Ω–æ –≤ —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á–∞—Ö –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Ä—É—á–∫–∞–º–∏, –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–∏—Å–∞—Ç—å –∫–æ–¥ ‚Äî —Å—Ç–∞–Ω–µ—Ç –ø–æ–Ω—è—Ç–Ω–µ–µ –∫–∞–∫ ¬´–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∏–º–≤–æ–ª –¥–≤–∞–∂–¥—ã¬ª, –∏ –∫–æ–≥–¥–∞ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ —Ä–µ–∫—É—Ä—Å–∏–∏.

![](/images/letter-tiles-possibilities--sol1.jpg)

–ò—Ç–∞–∫, —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–µ, –Ω–æ –µ—Å—Ç—å –≥–¥–µ —É—Å–∫–æ—Ä–∏—Ç—å—Å—è.

–ï—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ, —Ç–æ —Å–∞–º–∏ —Å—Ç—Ä–æ–∫–∏ –Ω–∞–º –∏ –Ω–µ –Ω—É–∂–Ω—ã, –ø—Ä–æ—Å—è—Ç –Ω–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ ‚Äî –±—É—Ç—ã–ª–æ—á–Ω–æ–µ –≥–æ—Ä–ª—ã—à–∫–æ —ç—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.

–ü–æ —Å—É—Ç–∏, –≤ –¥–µ—Ä–µ–≤–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω—É–∂–Ω–æ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤):

```diff
- result.add(currSeq.join(''));
+ resultSize++;
```
    

–ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º, —á—Ç–æ —Å—Ç—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π. –ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤—ã—à–µ —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω–æ, —á—Ç–æ —Ç–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞–π–¥—ë—Ç –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ AAB –∏ AAB, –ø–æ—Ç–æ–º—É —á—Ç–æ A –∏ A —Ç–∞–º —Å—Ç–æ—è—Ç _–≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ_. –°—Ç—Ä–æ–∫–∞ –∂–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ, –∏ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ—Å—á–∏—Ç–∞–Ω–∞ –¥–≤–∞–∂–¥—ã.

–ò—Ç–∞–∫, –Ω–∞–º –Ω—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –¥–≤—É–º—è –≤–µ—â–∞–º–∏:

*   –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∏–º–≤–æ–ª –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã;
*   –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã, –Ω–æ –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ—Å—á–∏—Ç–∞–Ω—ã –¥–≤–∞–∂–¥—ã.

–°–µ–π—á–∞—Å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–µ—Ç —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ _—Å –ø–µ—Ä–≤—ã–º –ø—É–Ω–∫—Ç–æ–º_. –ù–∞–¥–æ –Ω–∞–π—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è —Å–ø—Ä–∞–≤–∏—Ç—Å—è —Å—Ä–∞–∑—É —Å –¥–≤—É–º—è.

–ü—É—Å—Ç—å —É –Ω–∞—Å –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ AA. –°–æ—á–µ—Ç–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 12 –∏ 21 ‚Äî –¥–≤–µ —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏. –ê —á—Ç–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—á—ë—Ç—á–∏–∫? –°—á–µ—Ç—á–∏–∫ –∫–∞–∫ —Ä–∞–∑ —Å—Ç–∏—Ä–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤!

–°—á–µ—Ç—á–∏–∫ —Ä–µ—à–∞–µ—Ç —Å—Ä–∞–∑—É –¥–≤–µ –ø—Ä–æ–±–ª–µ–º—ã, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—ã—à–µ:

*   –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∏–º–≤–æ–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–≤–∞–∂–¥—ã ‚Äî –µ—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ —Ä–∞–≤–µ–Ω –Ω—É–ª—é, —Ç–æ –¥–∞–ª—å—à–µ –Ω–µ –ø–æ–π–¥—ë–º
*   –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ ‚Äî –∫–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ —Å—á–µ—Ç—á–∏–∫, —Ç–æ –∑–Ω–∞–Ω–∏—è –æ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Å–∏–º–≤–æ–ª–æ–≤ –∏—Å—á–µ–∑–∞–µ—Ç, –∞ —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ

> –ü–æ–ª–µ–∑–Ω–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥—É–±–ª–∏–∫–∞—Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω—ã

```js
/**
 * @param {string} tiles
 * @return {number}
 */
var numTilePossibilities = function(tiles) {
  // 26 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ –∑–∞–¥–∞—á–µ
  const counters = new Array(26).fill(0);
  // —É–¥–æ–±–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç ASCII-–∫–æ–¥ ¬´–Ω–∞—á–∞–ª–∞ –æ—Ç—Å—á—ë—Ç–∞¬ª,
  // —á—Ç–æ–±—ã –ø–æ—Ç–æ–º —Å—á–∏—Ç–∞—Ç—å –∏–Ω–¥–µ–∫—Å –±—É–∫–≤—ã
  const A = "A".charCodeAt(0);

  // —Å—á–∏—Ç–∞–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±—É–∫–≤—ã
  for (let i = 0; i < tiles.length; i++) {
    const charIndex = tiles.charCodeAt(i) - A;
    counters[charIndex]++;
  }

  function dfs() {
    let result = 0;
    // –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–æ—Ö–æ–¥–∏–º—Å—è
    // –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –±—É–∫–≤–∞–º
    for (let i = 0; i < 26; i++) {
      // –µ—Å–ª–∏ —Å—á—ë—Ç—á–∏–∫ —Ä–∞–≤–µ–Ω –Ω—É–ª—é:
      // –ª–∏–±–æ —Ç–∞–∫–æ–π –±—É–∫–≤—ã –Ω–µ –±—ã–ª–æ,
      // –ª–∏–±–æ –º—ã —É–∂–µ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏
      if (counters[i] > 0) {
        // –±–µ—Ä–µ–º —Ç–µ–∫—É—â–∏–π —Å–∏–º–≤–æ–ª –≤ ¬´—Å—Ç—Ä–æ–∫—É¬ª,
        // –∏ –∏–¥—ë–º –¥–∞–ª—å—à–µ
        counters[i]--;
        result += 1 + dfs();
        // –Ω–µ –∑–∞–±—ã–≤–∞–µ–º ¬´–≤–µ—Ä–Ω—É—Ç—å —Å–∏–º–≤–æ–ª –Ω–∞–∑–∞–¥¬ª,
        // —á—Ç–æ–±—ã –æ–Ω –º–æ–≥ –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
        // –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –¥–µ—Ä–µ–≤–∞
        counters[i]++;
      }
    }
    return result;
  }

  return dfs();
};
```
    

![](/images/letter-tiles-possibilities--sol2.jpg)

–ë–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫ –Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ!

PS. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.