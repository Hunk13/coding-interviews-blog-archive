Peak Index in a Mountain Array
==============================

Feb 8, 2021 ¬∑ 2 min read

–ï—Å—Ç—å –º–∞—Å—Å–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ —Ç–∞–∫, —á—Ç–æ –æ–¥–Ω–∞ –±—É–¥–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–π, –∞ –¥—Ä—É–≥–∞—è —É–±—ã–≤–∞—é—â–µ–π.

![](/images/peak-element--ex.jpg)

–ï—Å—Ç—å –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å –ø–∏–∫–æ–º. –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

–†–µ—à–µ–Ω–∏–µ¬†[#](#—Ä–µ—à–µ–Ω–∏–µ)
---------------------

–¢—Ä–∏–≤–∏–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –¥–ª—è —Ä–∞–∑–æ–≥—Ä–µ–≤–∞ ‚Äî –ø—Ä–æ–π—Ç–∏—Å—å –ø–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º, –∏ –Ω–∞–π—Ç–∏ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—é –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é.

–°–ª–æ–∂–Ω–æ—Å—Ç—å ‚Äî `O(n)`. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–ø—Ä–æ—Å—è—Ç ¬´–∞ –º–æ–∂–Ω–æ –ª–∏ –±—ã—Å—Ç—Ä–µ–µ?¬ª, –∏ –æ—Ç–≤–µ—Ç —Ä–∞–∑—É–º–µ–µ—Ç—Å—è ¬´–º–æ–∂–Ω–æ¬ª. –ó–∞–¥–∞—á–∞ –Ω–∞ –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫. –ü–æ–ø—Ä–æ–±—É–µ–º –æ–ø–∏—Å–∞—Ç—å –º—ã—Å–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç —ç—Ç–æ –ø–æ–Ω—è—Ç—å.

–ú—ã –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ –µ—Å—Ç—å –¥–≤–∞ —Ç—Ä–µ–Ω–¥–∞: –≤–æ—Å—Ö–æ–¥—è—â–∏–π –∏ –Ω–∏—Å—Ö–æ–¥—è—â–∏–π, –∏ –µ—Å—Ç—å —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω –ø–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–∂–∏—Ç –Ω–∞ —Å—Ç—ã–∫–µ. –ú–æ–∂–Ω–æ –≤–∑—è—Ç—å –ª—é–±—ã–µ –¥–≤–µ —Å–æ—Å–µ–¥–Ω–∏–µ —Ç–æ—á–∫–∏ –∏ –∑–∞–¥–∞—Ç—å —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å ‚Äî –∫–∞–∫–æ–π —ç—Ç–æ —Ç—Ä–µ–Ω–¥? –ï—Å–ª–∏ –≤–æ—Å—Ö–æ–¥—è—â–∏–π, –∑–Ω–∞—á–∏—Ç –ø–∏–∫ –≥–¥–µ-—Ç–æ —Å–ø—Ä–∞–≤–∞, –µ—Å–ª–∏ –Ω–∏—Å—Ö–æ–¥—è—â–∏–π ‚Äî¬†–∑–Ω–∞—á–∏—Ç —Å–ª–µ–≤–∞.

–†–æ–≤–Ω–æ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫, –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é.

```js
/**
 * @param {number[]} A
 * @return {number}
 */
var peakIndexInMountainArray = function(A) {
  // –≥—Ä–∞–Ω–∏—Ü—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö
  // –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ–º –∏—Å–∫–∞—Ç—å –æ—Ç–≤–µ—Ç
  let start = 0;
  let end = A.length - 1;

  // –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –¥–≤–∏–≥–∞–µ—Ç
  // start –∏ end –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É,
  // —Å—É–∂–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö
  // –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤–¥–≤–æ–µ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
  while (start < end) {
    const middle = Math.floor((start + end) / 2);

    // —Ç.–∫. –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ 3 (—É—Ç–æ—á–Ω–∏–ª–∏ —É –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞?) ‚Üí
    // –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—É –º–∞—Å—Å–∏–≤–∞ –Ω–µ —Å—Ç—Ä–∞—à–µ–Ω,
    // –Ω–æ –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ –∑–¥–µ—Å—å
    // –Ω—É–∂–Ω–æ –±—ã—Ç—å –∞–∫–∫—É—Ä–∞—Ç–Ω–µ–µ (–ø—Ä–æ–≤–µ—Ä—è—Ç—å edge cases):
    // –µ—Å–ª–∏ –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ 1, —Ç–æ middle –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω 0,
    // —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ A[middle + 1] ‚Äî –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π –º–∞—Å—Å–∏–≤–∞

    if (A[middle] < A[middle + 1]) {
      // middle –æ–∫–∞–∑–∞–ª—Å—è –≤ –≤–æ—Å—Ö–æ–¥—è—â–µ–º —Ç—Ä–µ–Ω–¥–µ,
      // —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞–¥–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø–æ–∏—Å–∫ —Å–ø—Ä–∞–≤–∞,
      // –ø—Ä–∏ —ç—Ç–æ–º —Ä–∞–∑ A[middle + 1] –æ–∫–∞–∑–∞–ª—Å—è
      // –±–æ–ª—å—à–µ ‚Äî –∑–Ω–∞—á–∏—Ç middle + 1 –±–ª–∏–∂–µ –∫ –ø–∏–∫—É
      start = middle + 1;
    } else {
      // middle –æ–∫–∞–∑–∞–ª—Å—è –≤ –Ω–∏—Å—Ö–æ–¥—è—â–µ–º —Ç—Ä–µ–Ω–¥–µ,
      // —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞–¥–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø–æ–∏—Å–∫ —Å–ª–µ–≤–∞,
      // –ø—Ä–∏ —ç—Ç–æ–º —Ä–∞–∑ A[middle] –æ–∫–∞–∑–∞–ª—Å—è
      // –±–æ–ª—å—à–µ ‚Äî –∑–Ω–∞—á–∏—Ç middle –±–ª–∏–∂–µ –∫ –ø–∏–∫—É
      end = middle;
    }
  }
  // –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ A[start] > A[end]
  // –∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É,
  // —Ç.–µ. –º—ã –Ω–∞—à–ª–∏ —Å–∞–º–æ–µ –Ω–∞—á–∞–ª–æ
  // –Ω–∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–µ–Ω–¥–∞ ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å –ø–∏–∫
  return start;
};
```
    

–°–ª–æ–∂–Ω–æ—Å—Ç—å `O(log N)`. –ú—ã —É–º–µ–Ω—å—à–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–¥–≤–æ–µ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ, –∞ –∑–Ω–∞—á–∏—Ç –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å `log N` –∏—Ç–µ—Ä–∞—Ü–∏–π —Ü–∏–∫–ª–∞.

PS. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.