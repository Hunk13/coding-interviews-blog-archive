Unique Paths
============

Nov 2, 2020 ¬∑ 3 min read

–†–æ–±–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É, –∏ –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤–ø—Ä–∞–≤–æ –∏ –≤–Ω–∏–∑.

![](https://assets.leetcode.com/uploads/2018/10/22/robot_maze.png)

–°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ _—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö_ –ø—É—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–æ–±–æ—Ç –º–æ–∂–µ—Ç –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –ø—Ä–∞–≤–æ–≥–æ –Ω–∏–∂–Ω–µ–≥–æ —É–≥–ª–∞?

[–ó–∞–¥–∞—á–∞ –Ω–∞ LeetCode](https://leetcode.com/problems/unique-paths/).

–†–µ—à–µ–Ω–∏–µ¬†[#](#—Ä–µ—à–µ–Ω–∏–µ)
---------------------

–†–æ–±–æ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É, –∏ –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–µ—Ç —Å–≤–µ—Ä–Ω—É—Ç—å: –≤–Ω–∏–∑ –∏–ª–∏ –Ω–∞–ø—Ä–∞–≤–æ. –†–∞–∑—É–º–µ–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –¥–æ—Ö–æ–¥–∏–º –¥–æ –∫—Ä–∞—è –ø–æ–ª—è ‚Äî –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –Ω–µ–≥–æ –Ω–µ–ª—å–∑—è. –ò–¥—Ç–∏ –Ω–∞–∑–∞–¥ —Ç–∞–∫ –∂–µ –Ω–µ–ª—å–∑—è, –ø–æ—ç—Ç–æ–º—É —Ä–æ–±–æ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ–∫–∞–∂–µ—Ç—Å—è –≤ —Ç–æ—á–∫–µ —Ñ–∏–Ω–∏—à–∞.

–ó–∞ —Å—á–µ—Ç —Ç–æ–≥–æ, —á—Ç–æ –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–Ω–æ —Å–≤–µ—Ä–Ω—É—Ç—å ‚Äî –ø–æ–ª—É—á–∞–µ–º –Ω–µ–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π. –ò–º–µ–Ω–Ω–æ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –Ω—É–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å. –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —Ä–µ—á—å _–Ω–µ –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤_, –∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö –¥–æ–±—Ä–∞—Ç—å—Å—è –∏–∑ –æ–¥–Ω–æ–≥–æ —É–≥–ª–∞ –≤ –¥—Ä—É–≥–æ–π. –°–∫–∞–∂–µ–º, –µ—Å–ª–∏ —Ä–æ–±–æ—Ç –±—É–¥–µ—Ç –∏–¥—Ç–∏ –¥–æ —É–ø–æ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–æ, –∞ –ø–æ—Ç–æ–º –≤–Ω–∏–∑ ‚Äî —ç—Ç–æ —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç.

–ü–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ—à–µ–Ω–∏—è ‚Äî –æ–±—Ö–æ–¥ –≤ –≥–ª—É–±–∏–Ω—É. –Ø —É–∂–µ —Ä–∞–∑–±–∏—Ä–∞–ª [–∑–∞–¥–∞—á–∏ –Ω–∞ DFS](/tags/dfs/), —Å—É—Ç—å –≤–µ–∑–¥–µ –æ–¥–Ω–∞: –µ—Å—Ç—å –¥–µ—Ä–µ–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–±—Ö–æ–¥–∞ –ø–æ–ª—è, –Ω–∞–¥–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ç–æ–∫ –æ—Ç –∫–æ—Ä–Ω—è –∫ –ª–∏—Å—Ç—å—è–º.

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —Ä–µ—à–∞—Ç—å —á–µ—Ä–µ–∑ DFS –º–æ–∂–Ω–æ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ. –ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ç–æ–∫ –ø—Ä–∏–¥—ë—Ç—Å—è –æ–±–æ–π—Ç–∏ –≤—Å–µ —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞. –°–∫–æ–ª—å–∫–æ —Ç–∞–º —É–∑–ª–æ–≤? –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –µ—Å—Ç—å –¥–≤–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞, —Ç.–µ. –∫–∞–∂–¥—ã–π —É–∑–µ–ª –∏–º–µ–µ—Ç –¥–≤—É—Ö –¥–µ—Ç–æ–∫. –í –∏—Ç–æ–≥–µ, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏ `O(2^(n * m))`, –≥–¥–µ `n` –∏ `m` —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –ø–æ–ª—è.

> –ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–µ? –í–æ–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –∑–∞–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä—É –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±–¥—É–º—ã–≤–∞–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è. –ö–∏–¥–∞—Ç—å—Å—è –ø–∏—Å–∞—Ç—å DFS, –Ω–µ –≤—ã—è—Å–Ω–∏–≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç ‚Äî –∫—Ä–∞—Å–Ω—ã–π —Ñ–ª–∞–≥.

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —É—Å–ª–æ–≤–∏–∏ ‚Äî `1 <= m, n <= 100`. –ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ `2 ^ (100 * 100)` –Ω–∏ –≤ –∫–∞–∫–∏–µ –≤–æ—Ä–æ—Ç–∞ –Ω–µ –ª–µ–∑—É—Ç.

–ö–æ–Ω–µ—á–Ω–æ, –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç DFS –∫ _–≤–∞—Ä–∏–∞–Ω—Ç—É —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π_, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –≤ [–∑–∞–¥–∞—á–µ –ø—Ä–æ –¥–æ–º–∏–Ω–æ –∏ —Ç—Ä–∏–º–∏–Ω–æ](/posts/domino-and-tromino-tiling.md).

–ß—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è —Ä–∞–∑–±–µ—Ä—ë–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**.

–°—É—Ç—å –º–µ—Ç–æ–¥–∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á –¥–ª—è —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ —Å–ª—É—á–∞—è, –∞ –ø–æ—Å–ª–µ ‚Äî –ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å—Å—è –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á–∏ –¥–ª—è `n + 1`, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

–¢–∞–∫ –∏ –ø–æ—Å—Ç—É–ø–∏–º.

–û–±—ã—á–Ω–æ, –≤ –∫–∞—á–µ—Å—Ç–≤–æ ¬´—Ç–æ–π —Å–∞–º–æ–π –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—É—é –Ω–∞–¥–æ —Ä–µ—à–∞—Ç—å –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã¬ª, –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –≤ –∏—Å—Ö–æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –∑–∞–≤–æ–¥–∏–º –º–∞—Ç—Ä–∏—Ü—É, –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ‚Äî —Å–∫–æ–ª—å–∫–æ –µ—Å—Ç—å _—Ä–∞–∑–ª–∏—á–Ω—ã—Ö_ –ø—É—Ç–µ–π –¥–æ–±—Ä–∞—Ç—å—Å—è –≤ –¥–∞–Ω–Ω—É—é –∫–ª–µ—Ç–∫—É?

–ï—Å—Ç—å –¥–≤–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ–∫–∞–∑–∞—Ç—å—Å—è –≤ –ª—é–±–æ–π –∫–ª–µ—Ç–∫–µ ‚Äî —Å–ø—É—Å—Ç–∏—Ç—å—Å—è —Å–≤–µ—Ä—Ö—É –∏–ª–∏ –ø—Ä–∏–π—Ç–∏ —Å–ª–µ–≤–∞. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–∫–∞–∑–∞—Ç—å—Å—è –≤ –¥–∞–Ω–Ω–æ–π –∫–ª–µ—Ç–∫–µ —Ä–∞–≤–Ω–æ —Å—É–º–º–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–∫–∞–∑–∞—Ç—å—Å—è —Å–≤–µ—Ä—Ö—É –∏ —Å–ª–µ–≤–∞, —ç—Ç–æ –∏ –µ—Å—Ç—å —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ.

–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –µ—Å—Ç—å, —Ç–µ–ø–µ—Ä—å –Ω–∞–¥–æ –ø–æ–¥—É–º–∞—Ç—å –ø—Ä–æ –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä—è–¥. –°–∫–æ–ª—å–∫–æ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–æ–±—Ä–∞—Ç—å—Å—è –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—é –≤ –ª—é–±—É—é –∫–ª–µ—Ç–∫—É? –í—Å–µ–≥–æ –æ–¥–∏–Ω. –ü–æ—Ç–æ–º—É —á—Ç–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤–ø–∞—Ä–≤–æ. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ä—è–¥–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤–Ω–∏–∑.

–°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è ‚Äî `O(n * m)`, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–¥–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –¢–∞–∫ –∂–µ –∏ –ø–æ –ø–∞–º—è—Ç–∏.

> –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±—É–¥—É—Ç —Ç–æ–ª—å–∫–æ –¥–≤–∞ —Ä—è–¥–∞ –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –ø–æ—ç—Ç–æ–º—É –≤—Å—é –º–∞—Ç—Ä–∏—Ü—É —Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —è –æ–ø—É—Å–∫–∞—é —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Ä–∞–∑–≤–∏—Ç–∏—è –≤–æ–ø—Ä–æ—Å–∞, –µ—Å–ª–∏ –æ—Å—Ç–∞—ë—Ç—Å—è –≤—Ä–µ–º—è.

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Ä–µ—à–µ–Ω–∏–µ –µ—Å—Ç—å, –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥.

    /**
     * @param {number} h
     * @param {number} w
     * @return {number}
     */
    var uniquePaths = function(h, w) {
      // –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Ç—Ä–∏—Ü—ã –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å:
      //¬´—Å–∫–æ–ª—å–∫–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–∫–∞–∑–∞—Ç—å—Å—è
      // –≤ –¥–∞–Ω–Ω–æ–π –∫–ª–µ—Ç–∫–µ, —Å–ª–µ–¥—É—è —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º?¬ª
      const dp = new Array(h).fill(0).map(() => new Array(w));
    
      // –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π:
      // –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
      dp[0][0] = 1;
      for (let x = 1; x < w; x++) {
        dp[0][x] = 1;
      }
      for (let y = 1; y < h; y++) {
        dp[y][0] = 1;
      }
    
      // –∑–∞–ø–æ–ª–Ω—è–µ–º –º–∞—Ç—Ä–∏—Ü—É –æ—Ç–≤–µ—Ç–æ–≤,
      // –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø—Ä–∏–±–ª–∏–∂–∞—è—Å—å –∫ –æ—Ç–≤–µ—Ç—É –Ω–∞ –∑–∞–¥–∞—á—É
      // —Ä–∞–∑–º–µ—Ä–∞ h x w, —Ç.–µ. —Ä–µ—à–µ–Ω–∏—é
      for (let y = 1; y < h; y++) {
        for (let x = 1; x < w; x++) {
          dp[y][x] = dp[y - 1][x] + dp[y][x - 1];
        }
      }
      // –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É ‚Äî –æ—Ç–≤–µ—Ç –∏—Å—Ö–æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏
      return dp[h - 1][w - 1];
    };
    

PS. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.